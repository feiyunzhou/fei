<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:wicket="http://wicket.apache.org">
<body>
	<wicket:extend>
		<script>
			$(document).ready(function() {	
				$("#navitem-calendar").addClass("active");


                $(".event_type_class").change(function(e){
                    var seleted_event_type = $(this).attr("data-typeId");//.data("typeId");
                    //console.log("seleted_event_type:"+seleted_event_type);
                    
                    if(seleted_event_type == 1){
                        $("#student_div").hide();
                        $("#callOn").show();
                    }else if(seleted_event_type == 2){
                        $("#student_div").show();
                        $("#callOn").hide();
                    }

                });

			});// end onDomReady function
			//calculate toalScore
			function calculateTotalScore(){
				var totalScore = parseInt(0);
				var planing = $("#planing").val();
				var openling = $("#openling").val();
				var enquery_listening = $("#enquery_listening").val();
				var deliverable = $("#deliverable").val();
				var objection_handing = $("#objection_handing").val();
				var summary = $("#summary").val();
				totalScore = parseInt(planing)+parseInt(summary)+parseInt(openling)+parseInt(enquery_listening)+parseInt(deliverable)+parseInt(objection_handing);
				console.info("totalScore:"+totalScore);
				$("#total_score").attr("value",parseInt(totalScore));
			} 
		</script>
		

		<div class="row-fluid" style="width:600px; float:left;">
		<form wicket:id="form" class="form-horizontal">
			<table>
				<tr>
					<td>
					<div title="活动">
						<label id="datestr"></label>
									<div class="control-group">
										<label class="control-label">类型：</label>
										<div class="controls">
											<table>
												<tr>
													<td><span wicket:id="event_type_group">
													<input type="radio" class="event_type_class" name="event_type" wicket:id="radio1" data-typeId="1"   value=1 /> <span>拜访</span>&nbsp;&nbsp; 
													<input id="coaching_radio" type="radio" name="event_type" class="event_type_class" wicket:id="radio2" data-typeId="2" value=2  checked="checked" /> <span>辅导</span>
													</span></td>
												</tr>
											</table>
										</div>
									</div>
									<div id="student_div">
										<div class="control-group">
											<label class="control-label">辅导人：</label>
											<div class="controls">
												<input type="text"  wicket:id="coach"  readOnly="readonly" class="input input-big" />
											</div>
										</div>
	                                    <div   class="control-group">
											<label class="control-label">被辅导人：</label>
											<div class="controls">
												<input type="text" id="select_user" wicket:id="selected_user"  placeholder="李三"  required="required" class="input input-big" />
												<input type="hidden" id="hidden_select_user" class="input" wicket:id="hidden_select_user" />&nbsp;&nbsp;
												<a href="#" class="" wicket:id="search_user_btn" id="search_click" name="search_inferior" title="查找下属"><i class="icon-search"></i></a>
											</div>
										</div>
										<div class="control-group">
											<label class="control-label">访前计划：</label>
											<div class="controls">
												<input type="text" id="planing" wicket:id="planing" placeholder="Enter your grade" class="input input-big" onchange="calculateTotalScore();" />&nbsp;<span>(满分15分)</span>
											</div>
										</div>
										<div class="control-group">
											<label class="control-label">开场：</label>
											<div class="controls">
												<input type="text" id="openling" wicket:id="openling"  placeholder="Enter your grade"  class="input input-big" onchange="calculateTotalScore();"  />&nbsp;<span>(满分15分)</span>
											</div>
										</div>
										<div class="control-group">
											<label class="control-label">探询聆听：</label>
											<div class="controls">
												<input type="text" id="enquery_listening" wicket:id="enquery_listening"  placeholder="Enter your grade"  class="input input-big" onchange="calculateTotalScore();"  />&nbsp;<span>(满分15分)</span>
											</div>
										</div>
										<div class="control-group">
											<label class="control-label">利益销售：</label>
											<div class="controls">
												<input type="text" id="deliverable" wicket:id="deliverable"   placeholder="Enter your grade"  class="input input-big" onchange="calculateTotalScore();"  />&nbsp;<span>(满分20分)</span>
											</div>
										</div>
										<div class="control-group">
											<label class="control-label">异常处理：</label>
											<div class="controls">
												<input type="text" id="objection_handing" wicket:id="objection_handing"   placeholder="Enter your grade"  class="input input-big" onchange="calculateTotalScore();"  />&nbsp;<span>(满分15分)</span>
											</div>
										</div>
										<div class="control-group">
											<label class="control-label">缔结：</label>
											<div class="controls">
												<input type="text" id="summary" wicket:id="summary"  placeholder="Enter your grade"  class="input input-big" onchange="calculateTotalScore();"  />&nbsp;<span>(满分15分)</span>
											</div>
										</div>
										<div class="control-group">
											<label class="control-label">总分：</label>
											<div class="controls">
												<input type="text" id="total_score" wicket:id="total_score"  readOnly="readonly"   placeholder="Enter your grade"  class="input input-big"  />&nbsp;<span>(满分100分)</span>
											</div>
										</div>
										<div  class="control-group">
											<label class="control-label">计划地点：</label>
											<div class="controls">
												<input type="text" wicket:id="location"   class="input input-big" />
											</div>
										</div>
										<div  class="control-group">
											<label class="control-label">状态：</label>
											<div class="controls">
												<input type="text" wicket:id="status"  value="计划中" class="input input-big" />
											</div>
										</div>
										<div class="control-group">
											<label class="control-label">创建者：</label>
											<div class="controls">
												<input type="text"  wicket:id="owner" readOnly="readonly" class="input input-big" />
											</div>
										</div>
										<div class="control-group">
											<label class="control-label">创建时间：</label>
											<div class="controls">
												<input type="text"  wicket:id="whenadded"  readOnly="readonly" class="input input-big" />
											</div>
										</div>
									</div>
									<div id="callOn" style="display:none;">
										<div class="control-group">
											<label class="control-label">拜访名称：</label>
											<div class="controls">
												<input type="text" id="act_title" class="input" placeholder="拜访名称..." wicket:id="act_title_input" />
											</div>
										</div>
										<div class="control-group">
											<label class="control-label">拜访类型：</label>
											<div class="controls">
												<select id="visit_type_input" wicket:id="activity_type_input" name="visit_type" class="input">
													<option value="1">专业化拜访</option>
													<option value="2">事务性拜访</option>
												</select>
											</div>
										</div>

										<div id="accountNcontact" class="control-group">
	
											<!-- <select id="selected_account" wicket:id="account_select">
										</select> -->
											<label id="contact_label" class="control-label" for="contact">拜访医生：</label>
											<div class="controls">
												<input type="text" id="selected_contact" class="input input-big"   placeholder="张三" wicket:id="contact_select" /> 
												<input type="hidden" id="hidden_selected_contact" class="input"
													wicket:id="hidden_contact_select" />&nbsp;&nbsp;
													 <a href="#" class="" wicket:id="search_btn" id="search_click" name="search_contact" title="查找医生"><i class="icon-search"></i></a>
											      &nbsp;&nbsp;&nbsp;<span id="account_info"></span>
											</div>
											<!-- <label class="control-label" for="account" id="account_label" style="display: none">医院：</label>
											<div class="controls">
												<span id="account_info"></span>
											</div> -->
										</div>

										<div class="control-group">
											<label class="control-label">拜访目的：</label>
											<div class="controls">
												<select id="visiting_purpose_input" wicket:id="visiting_purpose_input" name="visiting_purpose" class="input">
													<option value="1">传递产品知识</option>
													<option value="2">处方观念沟通</option>
													<option value="3">病例沟通</option>
													<option value="4">会议安排</option>
													<option value="5">会议跟进</option>
													<option value="6">交接工作</option>
													<option value="7">了解竞争</option>
												</select>
											</div>
										</div>
									</div>
									<div class="control-group">
										<label class="control-label">主推产品：</label>
										<div class="controls">
											<select id="feature_product_input" wicket:id="feature_product_input" name="feature_product" class="input">
												<option value="1">美施康定</option>
												<option value="2">奥施康定</option>
												<option value="3">奇曼丁</option>
												<option value="4">若思本</option>
												<option value="5">奥诺美</option>
											</select>
										</div>
									</div>
									<div class="control-group">
										<label class="control-label" for="from">开始时间：</label>
										<div class="controls">
											<table>
												<tr>
													<td><div id="datepicker_from">
															<input name="start_date" wicket:id="start_date_input" style="width: 150px" type="date" />
														</div></td>
													<td>&nbsp;</td>
													<td><input wicket:id="start_time_input" name="start_time" style="width: 150px" type="time" /></td>
												</tr>
											</table>
										</div>
										<label class="control-label" for="to">结束时间：</label>
										<div class="controls">
											<table>
												<tr>
													<td><div id="datepicker_to">
															<input name="end_date" wicket:id="end_date_input" style="width: 150px" type="date" />
														</div></td>
													<td>&nbsp;</td>
													<td><input wicket:id="end_time_input" name="end_time" style="width: 150px" type="time" /></td>
												</tr>
											</table>
										</div>
									</div>
									<div id="visited_contact_select_div" style="display: none" class="control-group">
										<label class="control-label" for="visited_contact">拜访过的医生：</label>
										<div class="controls">
											<input type="hidden" id="visited_contact_select" style="width: 200px" tabindex="-1" class="select2-offscreen input">
										</div>
									</div>
									<div id="multi_select_div" style="display: none">
										<h6>添加的医生：</h6>
										<table id="selected_contacts_table">
											<tbody></tbody>
										</table>
									</div>
									<div id="user_manager_select_div" style="display: none" class="control-group">
										<label class="control-label" for="user_manager">经理：</label>
										<div class="controls">
											<input type="hidden" id="user_manager_select" style="width: 200px" tabindex="-1" class="select2-offscreen input">
										</div>
									</div>
								</div>
								</td>
						</tr>
				</table>
							<hr/>
							<div class="btn-toolbar">
								<div class="btn-group">
									<a href="#" onclick="window.history.back(); return false;" class="btn">取消</a>
								</div>
								<div class="btn-group">
									<input type="submit" class="btn btn-primary">保存&返回</input>
								</div>
							</div>
							
			</form>
		</div>
	</wicket:extend>
</body>
</html>
