<wicket:panel xmlns:wicket="http://wicket.apache.org">
     <link href="dynatree/skin/ui.dynatree.css" rel="stylesheet" type="text/css">
  <script src="dynatree/jquery.dynatree.js" type="text/javascript"></script>
	<script>
		$(document).ready(function() {
			$("#tree").dynatree({
			    activate:false,
				onActivate : function(node) {
					console.log("You activated " + pageUrl);
					
					//console.log("type:"+node.data.type);
					console.log(node);
					
					//onTreeNodeActivate(node.data.type,node.data.key);
				},
				onSelect : function(select, node) {
					console.log(node);
					//console.log("type:"+node.data.type);
					//location.href = pageUrl  +"?positionId="+key;
					//var s = node.tree.getSelectedNodes().join(", ");
					//$("#echoSelected").text(s);
					
					
				},
				onClick: function(node, event) {
				    if(node.getEventTargetType(event) == "title"){
				        location.href = pageUrl+"?positionId="+node.data.key;
				    }
				}
			});
			// Now get the root node object
			var tree = $("#tree").dynatree("getTree");
			var rootNode = $("#tree").dynatree("getRoot");
			var childNode = rootNode.addChild(JSON.parse(regionData));
			//tree.activateKey("17");
			console.log(act_key);
			$("#tree").dynatree("getTree").getNodeByKey(act_key).activate();
			
			
		});
	</script>
	
	<div id="tree"></div>
</wicket:panel>
