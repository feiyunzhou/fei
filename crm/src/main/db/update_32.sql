use crmdb;

set session old_alter_table =on;  
ALTER IGNORE TABLE crmuser ADD UNIQUE (code);
set session old_alter_table =off; 

ALTER table contact ADD externalId varchar(128);
set session old_alter_table =on;  
ALTER IGNORE TABLE contact ADD UNIQUE (externalId);
set session old_alter_table =off; 

set session old_alter_table =on;  
ALTER IGNORE TABLE userinfo ADD UNIQUE (employeeNumber);
set session old_alter_table =off; 


DROP TABLE IF EXISTS `area`;
DROP TABLE IF EXISTS `city`;
DROP TABLE IF EXISTS `province`;

DROP TABLE IF EXISTS `province`;
CREATE TABLE `province` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `val` varchar(20) DEFAULT NULL,
  `externalId` varchar(20) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB;
INSERT INTO `province` VALUES (1,'北京','110000'),(2,'天津','120000'),(3,'河北','130000'),(4,'山西','140000'),(5,'内蒙古','150000'),(6,'辽宁','210000'),(7,'吉林','220000'),(8,'黑龙江','230000'),(9,'上海','310000'),(10,'江苏','320000'),(11,'浙江','330000'),(12,'安徽','340000'),(13,'福建','350000'),(14,'江西','360000'),(15,'山东','370000'),(16,'河南','410000'),(17,'湖北','420000'),(18,'湖南','430000'),(19,'广东','440000'),(20,'广 西','450000'),(21,'海南','460000'),(22,'重庆','500000'),(23,'四川','510000'),(24,'贵州','520000'),(25,'云南','530000'),(26,'西 藏','540000'),(27,'陕西','610000'),(28,'甘肃','620000'),(29,'青海','630000'),(30,'宁 夏','640000'),(31,'新 疆','650000'),(32,'台湾','710000'),(33,'香 港','810000'),(34,'澳 门','820000');

DROP TABLE IF EXISTS `city`;
CREATE TABLE `city` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `val` varchar(20) DEFAULT NULL,
  `externalId` varchar(20) DEFAULT NULL,
  `parentId` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `city_parentid_cons` (`parentId`),
  CONSTRAINT `city_parentid_cons` FOREIGN KEY (`parentId`) REFERENCES `province` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB;

INSERT INTO `city` VALUES (1,'北京','110100',1),(2,'石家庄','130100',3),(3,'唐山','130200',3),(4,'秦皇岛','130300',3),(5,'邯郸','130400',3),(6,'邢台','130500',3),(7,'保定','130600',3),(8,'张家口','130700',3),(9,'承德','130800',3),(10,'沧州','130900',3),(11,'廊坊','131000',3),(12,'衡水','131100',3),(13,'太原','140100',4),(14,'大同','140200',4),(15,'阳泉','140300',4),(16,'长治','140400',4),(17,'晋城','140500',4),(18,'朔州','140600',4),(19,'晋中','140700',4),(20,'运城','140800',4),(21,'忻州','140900',4),(22,'临汾','141000',4),(23,'吕梁','141100',4),(24,'呼和浩特','150100',5),(25,'包头','150200',5),(26,'乌海','150300',5),(27,'赤峰','150400',5),(28,'通辽','150500',5),(29,'鄂尔多斯','150600',5),(30,'呼伦贝尔','150700',5),(31,'巴彦淖尔','150800',5),(32,'乌兰察布','150900',5),(33,'兴安盟','152200',5),(34,'锡林郭勒盟','152500',5),(35,'阿拉善盟','152900',5),(36,'沈阳','210100',6),(37,'大连','210200',6),(38,'鞍山','210300',6),(39,'抚顺','210400',6),(40,'本溪','210500',6),(41,'丹东','210600',6),(42,'锦州','210700',6),(43,'营口','210800',6),(44,'阜新','210900',6),(45,'辽阳','211000',6),(46,'盘锦','211100',6),(47,'铁岭','211200',6),(48,'朝阳','211300',6),(49,'葫芦岛','211400',6),(50,'长春','220100',7),(51,'吉林','220200',7),(52,'四平','220300',7),(53,'辽源','220400',7),(54,'通化','220500',7),(55,'白山','220600',7),(56,'松原','220700',7),(57,'白城','220800',7),(58,'延边朝鲜族自治州','222400',7),(59,'哈尔滨','230100',8),(60,'齐齐哈尔','230200',8),(61,'鸡西','230300',8),(62,'鹤岗','230400',8),(63,'双鸭山','230500',8),(64,'大庆','230600',8),(65,'伊春','230700',8),(66,'佳木斯','230800',8),(67,'七台河','230900',8),(68,'牡丹江','231000',8),(69,'黑河','231100',8),(70,'绥化','231200',8),(71,'大兴安岭地区','232700',8),(72,'辖区','310100',9),(73,'县','310200',9),(74,'南京','320100',10),(75,'无锡','320200',10),(76,'徐州','320300',10),(77,'常州','320400',10),(78,'苏州','320500',10),(79,'南通','320600',10),(80,'连云港','320700',10),(81,'淮安','320800',10),(82,'盐城','320900',10),(83,'扬州','321000',10),(84,'镇江','321100',10),(85,'泰州','321200',10),(86,'宿迁','321300',10),(87,'杭州','330100',11),(88,'宁波','330200',11),(89,'温州','330300',11),(90,'嘉兴','330400',11),(91,'湖州','330500',11),(92,'绍兴','330600',11),(93,'金华','330700',11),(94,'衢州','330800',11),(95,'舟山','330900',11),(96,'台州','331000',11),(97,'丽水','331100',11),(98,'合肥','340100',12),(99,'芜湖','340200',12),(100,'蚌埠','340300',12),(101,'淮南','340400',12),(102,'马鞍山','340500',12),(103,'淮北','340600',12),(104,'铜陵','340700',12),(105,'安庆','340800',12),(106,'黄山','341000',12),(107,'滁州','341100',12),(108,'阜阳','341200',12),(109,'宿州','341300',12),(110,'巢湖','341400',12),(111,'六安','341500',12),(112,'亳州','341600',12),(113,'池州','341700',12),(114,'宣城','341800',12),(115,'福州','350100',13),(116,'厦门','350200',13),(117,'莆田','350300',13),(118,'三明','350400',13),(119,'泉州','350500',13),(120,'漳州','350600',13),(121,'南平','350700',13),(122,'龙岩','350800',13),(123,'宁德','350900',13),(124,'南昌','360100',14),(125,'景德镇','360200',14),(126,'萍乡','360300',14),(127,'九江','360400',14),(128,'新余','360500',14),(129,'鹰潭','360600',14),(130,'赣州','360700',14),(131,'吉安','360800',14),(132,'宜春','360900',14),(133,'抚州','361000',14),(134,'上饶','361100',14),(135,'济南','370100',15),(136,'青岛','370200',15),(137,'淄博','370300',15),(138,'枣庄','370400',15),(139,'东营','370500',15),(140,'烟台','370600',15),(141,'潍坊','370700',15),(142,'济宁','370800',15),(143,'泰安','370900',15),(144,'威海','371000',15),(145,'日照','371100',15),(146,'莱芜','371200',15),(147,'临沂','371300',15),(148,'德州','371400',15),(149,'聊城','371500',15),(150,'滨州','371600',15),(151,'荷泽','371700',15),(152,'郑州','410100',16),(153,'开封','410200',16),(154,'洛阳','410300',16),(155,'平顶山','410400',16),(156,'安阳','410500',16),(157,'鹤壁','410600',16),(158,'新乡','410700',16),(159,'焦作','410800',16),(160,'濮阳','410900',16),(161,'许昌','411000',16),(162,'漯河','411100',16),(163,'三门峡','411200',16),(164,'南阳','411300',16),(165,'商丘','411400',16),(166,'信阳','411500',16),(167,'周口','411600',16),(168,'驻马店','411700',16),(169,'武汉','420100',17),(170,'黄石','420200',17),(171,'十堰','420300',17),(172,'宜昌','420500',17),(173,'襄樊','420600',17),(174,'鄂州','420700',17),(175,'荆门','420800',17),(176,'孝感','420900',17),(177,'荆州','421000',17),(178,'黄冈','421100',17),(179,'咸宁','421200',17),(180,'随州','421300',17),(181,'恩施土家族苗族自治州','422800',17),(182,'省直辖行政单位','429000',17),(183,'长沙','430100',18),(184,'株洲','430200',18),(185,'湘潭','430300',18),(186,'衡阳','430400',18),(187,'邵阳','430500',18),(188,'岳阳','430600',18),(189,'常德','430700',18),(190,'张家界','430800',18),(191,'益阳','430900',18),(192,'郴州','431000',18),(193,'永州','431100',18),(194,'怀化','431200',18),(195,'娄底','431300',18),(196,'湘西土家族苗族自治州','433100',18),(197,'广州','440100',19),(198,'韶关','440200',19),(199,'深圳','440300',19),(200,'珠海','440400',19),(201,'汕头','440500',19),(202,'佛山','440600',19),(203,'江门','440700',19),(204,'湛江','440800',19),(205,'茂名','440900',19),(206,'肇庆','441200',19),(207,'惠州','441300',19),(208,'梅州','441400',19),(209,'汕尾','441500',19),(210,'河源','441600',19),(211,'阳江','441700',19),(212,'清远','441800',19),(213,'东莞','441900',19),(214,'中山','442000',19),(215,'潮州','445100',19),(216,'揭阳','445200',19),(217,'云浮','445300',19),(218,'南宁','450100',20),(219,'柳州','450200',20),(220,'桂林','450300',20),(221,'梧州','450400',20),(222,'北海','450500',20),(223,'防城港','450600',20),(224,'钦州','450700',20),(225,'贵港','450800',20),(226,'玉林','450900',20),(227,'百色','451000',20),(228,'贺州','451100',20),(229,'河池','451200',20),(230,'来宾','451300',20),(231,'崇左','451400',20),(232,'海口','460100',21),(233,'三亚','460200',21),(234,'省直辖县级行政单位','469000',21),(235,'辖区','500100',22),(236,'县','500200',22),(237,'','500300',22),(238,'成都','510100',23),(239,'自贡','510300',23),(240,'攀枝花','510400',23),(241,'泸州','510500',23),(242,'德阳','510600',23),(243,'绵阳','510700',23),(244,'广元','510800',23),(245,'遂宁','510900',23),(246,'内江','511000',23),(247,'乐山','511100',23),(248,'南充','511300',23),(249,'眉山','511400',23),(250,'宜宾','511500',23),(251,'广安','511600',23),(252,'达州','511700',23),(253,'雅安','511800',23),(254,'巴中','511900',23),(255,'资阳','512000',23),(256,'阿坝藏族羌族自治州','513200',23),(257,'甘孜藏族自治州','513300',23),(258,'凉山彝族自治州','513400',23),(259,'贵阳','520100',24),(260,'六盘水','520200',24),(261,'遵义','520300',24),(262,'安顺','520400',24),(263,'铜仁地区','522200',24),(264,'黔西南布依族苗族自治州','522300',24),(265,'毕节地区','522400',24),(266,'黔东南苗族侗族自治州','522600',24),(267,'黔南布依族苗族自治州','522700',24),(268,'昆明','530100',25),(269,'曲靖','530300',25),(270,'玉溪','530400',25),(271,'保山','530500',25),(272,'昭通','530600',25),(273,'丽江','530700',25),(274,'思茅','530800',25),(275,'临沧','530900',25),(276,'楚雄彝族自治州','532300',25),(277,'红河哈尼族彝族自治州','532500',25),(278,'文山壮族苗族自治州','532600',25),(279,'西双版纳傣族自治州','532800',25),(280,'大理白族自治州','532900',25),(281,'德宏傣族景颇族自治州','533100',25),(282,'怒江傈僳族自治州','533300',25),(283,'迪庆藏族自治州','533400',25),(284,'拉萨','540100',26),(285,'昌都地区','542100',26),(286,'山南地区','542200',26),(287,'日喀则地区','542300',26),(288,'那曲地区','542400',26),(289,'阿里地区','542500',26),(290,'林芝地区','542600',26),(291,'西安','610100',27),(292,'铜川','610200',27),(293,'宝鸡','610300',27),(294,'咸阳','610400',27),(295,'渭南','610500',27),(296,'延安','610600',27),(297,'汉中','610700',27),(298,'榆林','610800',27),(299,'安康','610900',27),(300,'商洛','611000',27),(301,'兰州','620100',28),(302,'嘉峪关','620200',28),(303,'金昌','620300',28),(304,'白银','620400',28),(305,'天水','620500',28),(306,'武威','620600',28),(307,'张掖','620700',28),(308,'平凉','620800',28),(309,'酒泉','620900',28),(310,'庆阳','621000',28),(311,'定西','621100',28),(312,'陇南','621200',28),(313,'临夏回族自治州','622900',28),(314,'甘南藏族自治州','623000',28),(315,'西宁','630100',29),(316,'海东地区','632100',29),(317,'海北藏族自治州','632200',29),(318,'黄南藏族自治州','632300',29),(319,'海南藏族自治州','632500',29),(320,'果洛藏族自治州','632600',29),(321,'玉树藏族自治州','632700',29),(322,'海西蒙古族藏族自治州','632800',29),(323,'银川','640100',30),(324,'石嘴山','640200',30),(325,'吴忠','640300',30),(326,'固原','640400',30),(327,'中卫','640500',30),(328,'乌鲁木齐','650100',31),(329,'克拉玛依','650200',31),(330,'吐鲁番地区','652100',31),(331,'哈密地区','652200',31),(332,'昌吉回族自治州','652300',31),(333,'博尔塔拉蒙古自治州','652700',31),(334,'巴音郭楞蒙古自治州','652800',31),(335,'阿克苏地区','652900',31),(336,'克孜勒苏柯尔克孜自治州','653000',31),(337,'喀什地区','653100',31),(338,'和田地区','653200',31),(339,'伊犁哈萨克自治州','654000',31),(340,'塔城地区','654200',31),(341,'阿勒泰地区','654300',31),(342,'省直辖行政单位','659000',31),(343,'天津',NULL,2);
ALTER table userinfo drop positionId;
