<?xml version="1.0" encoding="UTF-8"?>

<entities>
	<entity>
		 <name>account</name>
    <display>医院</display>
    <sql>
	select * from (select account.*\,
	account_point_pl.val as key_type_val\,
	account_type_pl.val as hospital_type_val\,
	account_comprehensive_or_specialized_pl.val as comprehensive_or_specialized_val
	from account
	left join account_point_pl on account.key_type = account_point_pl.id
	left join account_type_pl on account.hospital_type = account_type_pl.id
	left join account_comprehensive_or_specialized_pl on
	account.comprehensive_or_specialized =
	account_comprehensive_or_specialized_pl.id
	where account.id != -1 and(
	account.id in (select accountid from accountcrmuser where
	accountcrmuser.crmuserid = ?)
	or account.id in (select contact.accountid from contactcrmuser left join
	contact on contactcrmuser.contactid = contact.id where
	contactcrmuser.crmuserid = ?))) as aAccount

    </sql>
    <sql-admin>
	select * from (select account.*\,
	account_point_pl.val as key_type_val\,
	account_type_pl.val as hospital_type_val\,
	account_comprehensive_or_specialized_pl.val as comprehensive_or_specialized_val
	from account
	left join account_point_pl on account.key_type = account_point_pl.id
	left join account_type_pl on account.hospital_type = account_type_pl.id
	left join account_comprehensive_or_specialized_pl on
	account.comprehensive_or_specialized =
	account_comprehensive_or_specialized_pl.id
	where account.id != -1) as aAccount 
</sql-admin>
		<sql-manager>

	select * from (select account.*\,account_point_pl.val as key_type_val\,
	account_type_pl.val as hospital_type_val \,
	account_comprehensive_or_specialized_pl.val as
	comprehensive_or_specialized_val
	FROM
	account\,account_point_pl\,account_type_pl\,account_comprehensive_or_specialized_pl
	where (account.id in (select accountid from crmdb.accountcrmuser where
	crmuserid = ?) OR
	account.id in (select accountid from crmdb.accountcrmuser where crmuserid in
	(select id from crmuser where reportto = ?)) OR
	account.id in (select accountid from crmdb.contact where id in (select contactid
	from crmdb.contactcrmuser where crmuserid in (select id from
	crmdb.crmuser where reportto = ?)))) AND
	account_point_pl.id=key_type AND account.id != -1 AND
	account_type_pl.id=hospital_type AND
	account_comprehensive_or_specialized_pl.id = comprehensive_or_specialized) as aAccount
		                       
		            
		</sql-manager>

		<sql-ent>SELECT * from (select account.* from account where
			account.id=? order by whenadded DESC) as aAccount
		</sql-ent>
		<filterField>grade</filterField>
		<fields>
			<!-- 医院的基本信息 -->
			<field>

				<name>id</name>
				<display>ID</display>
				<data-type>number</data-type>
				<isPrimaryKey>true</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>false</isVisible>
				<isEditable>false</isEditable>
				<isParam>true</isParam> <!--  关联表的创建的参数 -->
				<priority>0</priority>
				<fieldGroup>关键信息</fieldGroup>
			</field>
			<field>
				<name>name</name>
				<display>医院名称</display>
				<isRequired>true</isRequired>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>true</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>1</priority>
				<isParam>true</isParam>
				<fieldGroup>关键信息</fieldGroup>
			</field>
			<field>
				<name>bdm_code</name>
				<display>BDM医院编码</display>
				<isRequired>false</isRequired>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>1</priority>
				<fieldGroup>关键信息</fieldGroup>
			</field>
			<field>
				<name>administrativ_level</name>
				<display>医院行政级别</display>
				<isRequired>false</isRequired>
				<data-type>number</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<picklist>account_administrativ_level_pl</picklist>
				<priority>1</priority>
				<fieldGroup>关键信息</fieldGroup>
			</field>
			<field>
				<name>grade</name>
				<display>医院分级</display>
				<isRequired>false</isRequired>
				<data-type>number</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<picklist>account_grade_pl</picklist>
				<priority>1</priority>
				<fieldGroup>关键信息</fieldGroup>
			</field>
			<field>
				<name>hospital_type</name>
				<display>医院类型</display>
				<isRequired>false</isRequired>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<picklist>account_type_pl</picklist>
				<priority>1</priority>
				<fieldGroup>关键信息</fieldGroup>
			</field>
			<field>
				<name>hospital_type_val</name>
				<display>医院类型</display>
				<isRequired>false</isRequired>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>false</isVisible>
				<isEditable>false</isEditable>
				<isSearchable>true</isSearchable>
				<priority>1</priority>
				<fieldGroup>关键信息</fieldGroup>
			</field>
			<field>
				<name>local_or_army</name>
				<display>地方/军队医院</display>
				<isRequired>false</isRequired>
				<data-type>number</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<picklist>account_local_or_army_pl</picklist>
				<priority>1</priority>
				<fieldGroup>关键信息</fieldGroup>
			</field>
			<field>
				<name>comprehensive_or_specialized</name>
				<display>综合/专科医院 </display>
				<isRequired>false</isRequired>
				<data-type>number</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<picklist>account_comprehensive_or_specialized_pl</picklist>
				<priority>1</priority>
				<fieldGroup>关键信息</fieldGroup>
			</field>
			<field>
				<name>comprehensive_or_specialized_val</name>
				<display>综合医院／专科医院 </display>
				<isRequired>false</isRequired>
				<data-type>number</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>false</isVisible>
				<isEditable>false</isEditable>
				<isSearchable>true</isSearchable>
				<priority>1</priority>
				<fieldGroup>关键信息</fieldGroup>
			</field>
			<field>
				<name>key_type</name>
				<display>重点医院</display>
				<isRequired>false</isRequired>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<picklist>account_point_pl</picklist>
				<priority>1</priority>
				<fieldGroup>关键信息</fieldGroup>
			</field>
			<field>
				<name>key_type_val</name>
				<display>重点医院</display>
				<isRequired>false</isRequired>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>false</isVisible>
				<isEditable>false</isEditable>
				<isSearchable>true</isSearchable>
				<priority>1</priority>
				<fieldGroup>关键信息</fieldGroup>
			</field>
			<field>
				<name>status</name>
				<display>状态</display>
				<data-type>number</data-type>
				<isRequired>false</isRequired>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<picklist>account_status_pl</picklist>
				<priority>1</priority>
				<fieldGroup>关键信息</fieldGroup>
			</field>
			<!-- 医院基本信息 -->
			<field>
				<name>duty_officer</name>
				<display>院长（法人）</display>
				<isRequired>false</isRequired>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>2</priority>
				<fieldGroup>基本信息</fieldGroup>
			</field>

			<field>
				<name>num_of_doctors</name>
				<display>医生数量</display>
				<isRequired>false</isRequired>
				<data-type>number</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>2</priority>
				<fieldGroup>基本信息</fieldGroup>
			</field>
			<field>
				<name>num_of_assistant_doctors</name>
				<display>助理医师人数</display>
				<isRequired>false</isRequired>
				<data-type>number</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>2</priority>
				<fieldGroup>基本信息</fieldGroup>
			</field>
			<field>
				<name>num_of_staff</name>
				<display>员工总数</display>
				<isRequired>false</isRequired>
				<data-type>number</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>2</priority>
				<fieldGroup>基本信息</fieldGroup>
			</field>
			<field>
				<name>num_of_treat_per_year</name>
				<display>年诊疗人数</display>
				<isRequired>false</isRequired>
				<data-type>number</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>2</priority>
				<fieldGroup>基本信息</fieldGroup>
			</field>
			<field>
				<name>num_of_outpatient</name>
				<display>门诊人数</display>
				<isRequired>false</isRequired>
				<data-type>number</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>2</priority>
				<fieldGroup>基本信息</fieldGroup>
			</field>
			<field>
				<name>total_num_of_sickbed</name>
				<display>总病床数</display>
				<isRequired>false</isRequired>
				<data-type>number</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>2</priority>
				<fieldGroup>基本信息</fieldGroup>
			</field>
			<field>
				<name>num_of_anesthesia_doctor</name>
				<display>麻醉科医生数</display>
				<isRequired>false</isRequired>
				<data-type>number</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>2</priority>
				<fieldGroup>基本信息</fieldGroup>
			</field>
			<field>
				<name>num_of_pain_doctor</name>
				<display>疼痛学组医生数 </display>
				<isRequired>false</isRequired>
				<data-type>number</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>2</priority>
				<fieldGroup>基本信息</fieldGroup>
			</field>
			<field>
				<name>num_of_surgery_per_year</name>
				<display>手术量/年</display>
				<isRequired>false</isRequired>
				<data-type>number</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>2</priority>
				<fieldGroup>基本信息</fieldGroup>
			</field>
			<field>
				<name>num_of_surgery_room</name>
				<display>手术间</display>
				<isRequired>false</isRequired>
				<data-type>number</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>2</priority>
				<fieldGroup>基本信息</fieldGroup>
			</field>
			<field>
				<name>num_of_using_opiates_medicine</name>
				<display>阿片类用药量</display>
				<isRequired>false</isRequired>
				<data-type>number</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>2</priority>
				<fieldGroup>基本信息</fieldGroup>
			</field>
			<field>
				<name>num_of_using_opiates_injection</name>
				<display>阿片类注射剂量(￥)</display>
				<isRequired>false</isRequired>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>2</priority>
				<fieldGroup>基本信息</fieldGroup>
			</field>
			<field>
				<name>date_of_establish</name>
				<display>成立时间</display>
				<isRequired>false</isRequired>
				<data-type>Date</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>2</priority>
				<fieldGroup>基本信息</fieldGroup>
			</field>
			<field>
				<name>registered_capital</name>
				<display>注册资金</display>
				<isRequired>false</isRequired>
				<data-type>number</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>2</priority>
				<fieldGroup>基本信息</fieldGroup>
			</field>
			<field>
				<name>tel</name>
				<display>主要电话号码</display>
				<isRequired>false</isRequired>
				<data-type>tel</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>1</priority>
				<fieldGroup>基本信息</fieldGroup>
			</field>
			<field>
				<name>fax</name>
				<display>主要传真号码</display>
				<isRequired>false</isRequired>
				<data-type>tel</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>2</priority>
				<fieldGroup>基本信息</fieldGroup>
			</field>
			<field>
				<name>market_classification</name>
				<display>市场分类</display>
				<isRequired>false</isRequired>
				<data-type>number</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<picklist>account_market_classification_pl</picklist>
				<priority>2</priority>
				<fieldGroup>基本信息</fieldGroup>
			</field>
			<field>
				<name>province</name>
				<display>医院省份</display>
				<isRequired>false</isRequired>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<picklist>province</picklist>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<fieldGroup>基本信息</fieldGroup>
				<isParam>true</isParam>
				<priority>2</priority>
				<childNode>city</childNode>
			</field>
			<field>
				<name>city</name>
				<display>医院城市</display>
				<isRequired>false</isRequired>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>2</priority>
				<picklist>city</picklist>
				<isParam>true</isParam>
				<fieldGroup>基本信息</fieldGroup>
				<parentNode>province</parentNode>
			</field>
			<field>
				<name>address</name>
				<display>医院详细地址</display>
				<isRequired>false</isRequired>
				<data-type>textarea</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>2</priority>
				<fieldGroup>基本信息</fieldGroup>
			</field>
			<!-- 附加信息 -->
			<field>
				<name>owner</name>
				<display>创建人</display>
				<isRequired>false</isRequired>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<field-type>auto</field-type>
				<isEditable>false</isEditable>
				<priority>4</priority>
				<fieldGroup>附加信息</fieldGroup>
			</field>
			<field>
				<name>whenadded</name>
				<display>创建时间</display>
				<isRequired>false</isRequired>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<field-type>auto</field-type>
				<isVisible>true</isVisible>
				<isEditable>false</isEditable>
				<priority>4</priority>
				<fieldGroup>附加信息</fieldGroup>
			</field>
			<field>
				<name>modifier</name>
				<display>修改人</display>
				<isRequired>false</isRequired>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<field-type>auto</field-type>
				<isVisible>true</isVisible>
				<isEditable>false</isEditable>
				<priority>4</priority>
				<fieldGroup>附加信息</fieldGroup>
			</field>
			<field>
				<name>modify_datetime</name>
				<display>修改时间</display>
				<isRequired>false</isRequired>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<field-type>auto</field-type>
				<isVisible>true</isVisible>
				<isEditable>false</isEditable>
				<priority>4</priority>
				<fieldGroup>附加信息</fieldGroup>
			</field>
			<field>
				<name>responsible_person</name>
				<display>负责人</display>
				<isRequired>false</isRequired>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<field-type>auto</field-type>
				<isVisible>false</isVisible>
				<isEditable>false</isEditable>
				<priority>4</priority>
				<fieldGroup>附加信息</fieldGroup>
			</field>
		</fields>
	</entity>

	<entity>
		<name>contact</name>
		<display>医生</display>
		<sql>
	select * from (select contact.*\,
	contact_generalization_target_pl.val as product_target_val\,
	"account.name" as accountName_val
	from contact
	left join contact_generalization_target_pl on contact.product_target =
	contact_generalization_target_pl.id
	left join account on contact.accountid = account.id
	left join contactcrmuser on contact.id = contactcrmuser.contactid
	where contact.id != -1 and contactcrmuser.crmuserid = ?) as aContact
		</sql>
		<sql-manager>
	select * from (select contact.*\,
	contact_generalization_target_pl.val as product_target_val\,
	"account.name" as accountName_val
	from contact
	left join contact_generalization_target_pl on contact.product_target =
	contact_generalization_target_pl.id
	left join account on contact.accountId = account.id
	where contact.id != -1 and
	(
	contact.id in (select contactid from contactcrmuser where crmuserid = ?) or
	contact.id in (select contactcrmuser.contactid from crmuser
	left join contactcrmuser on crmuser.id = contactcrmuser.crmuserid
	where crmuser.reportto = ?))) as aContact
		</sql-manager>
		
		<sql-admin>
<!-- 	select contact.*\, -->
<!-- 	contact_generalization_target_pl.val as product_target_val\, -->
<!-- 	account.name as accountName_val -->
<!-- 	from contact -->
<!-- 	left join contact_generalization_target_pl on contact.product_target = -->
<!-- 	contact_generalization_target_pl.id -->
<!-- 	left join account on contact.accountid = account.id -->
<!-- 	where account.id != -1 -->
	select * from (select contact.*\,
	contact_generalization_target_pl.val as product_target_val\,
	"account.name" as accountName_val
	from contact
	left join account on contact.accountid = account.id
	left join contact_generalization_target_pl on contact.product_target =
	contact_generalization_target_pl.id where contact.id != -1) as aContact

		</sql-admin>

		<sql-ent>select * from (select contact.*\,account.id as accountName
			from contact\,account where contact.id=? AND
			account.id=contact.accountId order by whenadded DESC) as
			aContact
		</sql-ent>
		
			<sql-search-by-name>select * from (select contact.*\,account.id as accountName
			from contact\,account where contact.id=? AND
			account.id=contact.accountId order by whenadded DESC) as
			aContact
		</sql-search-by-name>
		<filterField>department</filterField>

		<fields>
			<field>
				<name>id</name>
				<display>ID</display>
				<data-type>number</data-type>
				<isPrimaryKey>true</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>false</isVisible>
				<isEditable>false</isEditable>
				<priority>0</priority>
				<fieldGroup>关键信息</fieldGroup>
			</field>
			<field>
				<name>name</name>
				<display>姓名</display>
				<isRequired>true</isRequired>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>true</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>1</priority>
				<fieldGroup>关键信息</fieldGroup>
			</field>
			<!-- Please do not change the order of this field(accountId)!! -->
<!-- 			<field> -->
<!-- 				<name>accountId</name> -->
<!-- 				<display>医院ID</display> -->
<!-- 				<data-type>number</data-type> -->
<!-- 				<isRequired>false</isRequired> -->
<!-- 				<isPrimaryKey>false</isPrimaryKey> -->
<!-- 				<isDetailLink>false</isDetailLink> -->
<!-- 				<isVisible>true</isVisible> -->
<!-- 				<isEditable>false</isEditable> -->
<!-- 				<priority>1</priority> -->
<!-- 				<fieldGroup>关键信息</fieldGroup> -->
<!-- 			</field> -->
			
			<field>
				<name>accountId</name>
				<display>医院</display>
				<isRequired>false</isRequired>
				<alias>accountId</alias>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>1</priority>
				<relationTable>account</relationTable>
				<default-value-type>var</default-value-type>
				<default-value>account.id\,account.name</default-value>
				<fieldGroup>关键信息</fieldGroup>
			</field>	
			
<!-- 			<field> -->
<!-- 				<name>accountName</name> -->
<!-- 				<display>医疗机构</display> -->
<!-- 				<isRequired>false</isRequired> -->
<!-- 				<alias>accountId</alias> -->
<!-- 				<data-type>text</data-type> -->
<!-- 				<isPrimaryKey>false</isPrimaryKey> -->
<!-- 				<isDetailLink>false</isDetailLink> -->
<!-- 				<isVisible>true</isVisible> -->
<!-- 				<isEditable>true</isEditable> -->
<!-- 				<priority>1</priority> -->
<!-- 				<relationTable>account</relationTable> -->
<!-- 				<fieldGroup>关键信息</fieldGroup> -->
<!-- 			</field> -->
			
			 <field>
				<name>accountName_val</name>
				<display>医疗机构</display>
				<isRequired>false</isRequired>
				<alias>accountId</alias>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>false</isVisible>
				<isEditable>false</isEditable>
				<priority>1</priority>
				<isSearchable>true</isSearchable>
				<fieldGroup>关键信息</fieldGroup>
			</field>
			<field>
				<name>native_place</name>
				<display>籍贯</display>
				<isRequired>false</isRequired>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>2</priority>
				<fieldGroup>关键信息</fieldGroup>
			</field>
			<field>
				<name>department</name>
				<display>科室</display>
				<isRequired>false</isRequired>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>1</priority>
				<picklist>contact_department_pl</picklist>
				<fieldGroup>关键信息</fieldGroup>
			</field>
			<field>
				<name>sex</name>
				<display>性别</display>
				<isRequired>false</isRequired>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>1</priority>
				<picklist>sex_pl</picklist>
				<fieldGroup>关键信息</fieldGroup>
			</field>
			<field>
				<name>office_tel</name>
				<display>工作电话号码</display>
				<isRequired>false</isRequired>
				<data-type>tel</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>1</priority>
				<fieldGroup>关键信息</fieldGroup>
			</field>
			<field>
				<name>office_fax</name>
				<display>工作传真号码</display>
				<isRequired>false</isRequired>
				<data-type>tel</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>2</priority>
				<fieldGroup>关键信息</fieldGroup>
			</field>
			<field>
				<name>cellphone</name>
				<display>移动电话号码</display>
				<isRequired>false</isRequired>
				<data-type>tel</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>1</priority>
				<fieldGroup>关键信息</fieldGroup>
			</field>
			<field>
				<name>email</name>
				<display>电子邮件</display>
				<isRequired>false</isRequired>
				<data-type>email</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>1</priority>
				<fieldGroup>关键信息</fieldGroup>
			</field>
			<field>
				<name>grade</name>
				<display>分级</display>
				<isRequired>false</isRequired>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>1</priority>
				<picklist>contact_grade_pl</picklist>
				<fieldGroup>关键信息</fieldGroup>
			</field>
			<field>
				<name>status</name>
				<display>状态</display>
				<isRequired>false</isRequired>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>1</priority>
				<picklist>contact_status_pl</picklist>
				<fieldGroup>关键信息</fieldGroup>
			</field>
			<field>
				<name>market_classification</name>
				<display>市场分类</display>
				<isRequired>false</isRequired>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>2</priority>
				<picklist>contact_market_classification_pl</picklist>
				<fieldGroup>基本信息</fieldGroup>
			</field>
			<field>
				<name>province</name>
				<display>医院省份</display>
				<isRequired>false</isRequired>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>2</priority>
				<picklist>province</picklist>
				<childNode>city</childNode>
				<fieldGroup>基本信息</fieldGroup>
				<default-value-type>var</default-value-type>
				<default-value>account.province</default-value>
			</field>
			<field>
				<name>city</name>
				<display>医院城市</display>
				<isRequired>false</isRequired>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>2</priority>
				<picklist>city</picklist>
				<parentNode>province</parentNode>
				<fieldGroup>基本信息</fieldGroup>
				<default-value-type>var</default-value-type>
				<default-value>account.city</default-value>
			</field>
			<field>
				<name>districts</name>
				<display>医院区县</display>
				<isRequired>false</isRequired>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>2</priority>
				<fieldGroup>基本信息</fieldGroup>
			</field>
			<field>
				<name>duty</name>
				<display>职务</display>
				<isRequired>false</isRequired>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>1</priority>
				<picklist>contact_duty_pl</picklist>
				<fieldGroup>基本信息</fieldGroup>
			</field>
			<field>
				<name>job_title</name>
				<display>职称</display>
				<isRequired>false</isRequired>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>2</priority>
				<picklist>contact_job_title_pl</picklist>
				<fieldGroup>基本信息</fieldGroup>
			</field>
			<field>
				<name>product_target</name>
				<display>主推广产品目标</display>
				<isRequired>false</isRequired>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<picklist>contact_generalization_target_pl</picklist>
				<priority>1</priority>
				<fieldGroup>基本信息</fieldGroup>
			</field>
            <field>
                <name>product_target_val</name>
                <display>主推广产品目标</display>
                <isRequired>false</isRequired>
                <data-type>text</data-type>
                <isPrimaryKey>false</isPrimaryKey>
                <isDetailLink>false</isDetailLink>
                <isVisible>false</isVisible>
                <isEditable>false</isEditable>
                <isSearchable>true</isSearchable>
                <priority>1</priority>
                <fieldGroup>基本信息</fieldGroup>
            </field>

			<field>
				<name>visiting_target</name>
				<display>拜访目标次数</display>
				<isRequired>false</isRequired>
				<data-type>number</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>2</priority>
				<fieldGroup>基本信息</fieldGroup>
			</field>
			<!-- 附加信息 -->
			<field>
				<name>owner</name>
				<display>创建人</display>
				<data-type>text</data-type>
				<isRequired>false</isRequired>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<field-type>auto</field-type>
				<isVisible>true</isVisible>
				<isEditable>false</isEditable>
				<priority>4</priority>
				<fieldGroup>附加信息</fieldGroup>
			</field>
			<field>
				<name>whenadded</name>
				<display>创建时间</display>
				<isRequired>false</isRequired>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<field-type>auto</field-type>
				<isVisible>true</isVisible>
				<isEditable>false</isEditable>
				<priority>4</priority>
				<fieldGroup>附加信息</fieldGroup>
			</field>
			<field>
				<name>modifier</name>
				<display>修改人</display>
				<isRequired>false</isRequired>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<field-type>auto</field-type>
				<isVisible>true</isVisible>
				<isEditable>false</isEditable>
				<priority>4</priority>
				<fieldGroup>附加信息</fieldGroup>
			</field>
			<field>
				<name>modify_datetime</name>
				<display>修改时间</display>
				<isRequired>false</isRequired>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<field-type>auto</field-type>
				<isVisible>true</isVisible>
				<isEditable>false</isEditable>
				<priority>4</priority>
				<fieldGroup>附加信息</fieldGroup>
			</field>
			<field>
				<name>responsible_person</name>
				<display>负责人</display>
				<isRequired>false</isRequired>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<field-type>auto</field-type>
				<isVisible>false</isVisible>
				<isEditable>false</isEditable>
				<priority>4</priority>
				<fieldGroup>附加信息</fieldGroup>
			</field>
		</fields>
	</entity>

	<entity>
		<name>coach</name>
		<display>用户</display>
		<sql>select * from crmuser where ? is NOT NULL limit 10</sql>
		<sql-ent>select * from crmuser where ? is NOT NULL limit 10</sql-ent>
		<filterField>pl2</filterField>
		<fields>
			<field>
				<name>id</name>
				<display>ID</display>
				<data-type>number</data-type>
				<isPrimaryKey>true</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>false</isVisible>
				<isEditable>false</isEditable>
				<priority>0</priority>
				<fieldGroup>基本信息</fieldGroup>
			</field>
			<field>
				<name>name</name>
				<display>姓名</display>
				<isRequired>true</isRequired>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>true</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>1</priority>
				<fieldGroup>基本信息</fieldGroup>
			</field>
			<field>
				<name>cellPhone</name>
				<display>手机号码</display>
				<isRequired>false</isRequired>
				<data-type>tel</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>1</priority>
				<fieldGroup>地址信息</fieldGroup>
			</field>
			<field>
				<name>email</name>
				<display>邮箱</display>
				<isRequired>false</isRequired>
				<data-type>email</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>1</priority>
				<fieldGroup>地址信息</fieldGroup>
			</field>
			<field>
				<name>jobTitle</name>
				<display>职位</display>
				<isRequired>false</isRequired>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>1</priority>
				<fieldGroup>基本信息</fieldGroup>
			</field>
		</fields>
	</entity>
		<entity>
		<name>crmuser</name>
		<display>用户</display>
	    <filterField>role</filterField>
		<sql>
			select * from (select  crmuser.*\,
					"crmmanager.name" as reportto_val\,
					role.val role_val
			from crmuser
			left join (select * from crmuser) crmmanager on crmuser.reportto = crmmanager.id
			left join crmdb.role on crmuser.role = role.id
			where crmuser.id = ?) as aCrmuser
		</sql>
		<sql-admin>
		
<!-- 		select * from (select crmuser.*\,b.name as reportto_val\,role.val as role_val -->
<!-- 		                          from crmuser\,crmuser as b\,role where b.id=crmuser.reportto AND crmuser.id !=-1 AND role.id=crmuser.role AND (? is NOT NULL)) as acrmuser -->
			select * from (select crmuser.*\,
			       "crmmanager.name" as reportto_val\,
			       role.val role_val
			from crmuser
			left join (select * from crmuser) crmmanager on crmuser.reportto = crmmanager.id
			left join crmdb.role on crmuser.role = role.id
			where crmuser.id != -1	) as aCrmuser
		</sql-admin>
		<sql-manager>
<!-- 		select * from (select crmuser.*\,b.name as reportto_val\,role.val as role_val -->
<!-- 		                          from crmuser\,crmuser as b\,role where b.id=crmuser.reportto AND crmuser.id !=-1 AND role.id=crmuser.role AND (? is NOT NULL)) as acrmuser -->
			select * from (select crmuser.*\,
			       "crmmanager.name" as reportto_val\,
			       role.val role_val
			from crmuser
			left join (select * from crmuser) crmmanager on crmuser.reportto = crmmanager.id
			left join crmdb.role on crmuser.role = role.id
			where crmuser.reportto = ? or crmuser.id = ?	) as aCrmuser	
		</sql-manager>
<!-- 		<sql-manager-coaching>select * from (select crmuser.*\, -->
<!-- 			       "crmmanager.name" as reportto_val\, -->
<!-- 			       role.val role_val -->
<!-- 			from crmuser -->
<!-- 			left join (select * from crmuser) crmmanager on crmuser.reportto = crmmanager.id -->
<!-- 			left join crmdb.role on crmuser.role = role.id -->
<!-- 			where crmuser.reportto = ?) as aCrmuser -->
<!-- 		</sql-manager-coaching> -->
		<sql-ent>select * from crmuser where id=?</sql-ent>
		<filterField>pl2</filterField>
		<fields>
			<field>
				<name>id</name>
				<display>ID</display>
				<data-type>number</data-type>
				<isPrimaryKey>true</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>false</isVisible>
				<isEditable>false</isEditable>
				<priority>0</priority>
				<fieldGroup>关键信息</fieldGroup>
			</field>
			<field>
				<name>name</name>
				<display>姓名</display>
				<isRequired>true</isRequired>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>true</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>1</priority>
				<fieldGroup>关键信息</fieldGroup>
				<isBaseInfo>true</isBaseInfo>
				<fieldGroup>基本信息</fieldGroup>
			</field>
			<field>
				<name>jobTitle</name>
				<display>职位</display>
				<isRequired>false</isRequired>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>1</priority>
				<fieldGroup>关键信息</fieldGroup>
			</field>
			<field>
				<name>sex</name>
				<display>性别</display>
				<isRequired>false</isRequired>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>1</priority>
				<picklist>sex_pl</picklist>
				<fieldGroup>关键信息</fieldGroup>
				<isBaseInfo>true</isBaseInfo>
				<fieldGroup>地址信息</fieldGroup>
			</field>
			
			<field>
				<name>email</name>
				<display>邮箱</display>
				<isRequired>true</isRequired>
				<data-type>email</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>1</priority>
				<fieldGroup>关键信息</fieldGroup>
				<isBaseInfo>true</isBaseInfo>
				<isSearchable>true</isSearchable>
			</field>
			<field>
				<name>cellPhone</name>
				<display>手机号码</display>
				<isRequired>false</isRequired>
				<data-type>tel</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>1</priority>
				<fieldGroup>关键信息</fieldGroup>
				<isBaseInfo>false</isBaseInfo>
			</field>
			<field>
				<name>loginName</name>
				<display>用户登录名</display>
				<isRequired>true</isRequired>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>1</priority>
				<isBaseInfo>true</isBaseInfo>
				<fieldGroup>关键信息</fieldGroup>
			</field>
			<field>
				<name>reportto</name>
				<display>上级经理</display>
				<isRequired>false</isRequired>
				<data-type>text</data-type>
				<relationTable>crmuser</relationTable>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>1</priority>
	   		    <isBaseInfo>false</isBaseInfo>
				<fieldGroup>关键信息</fieldGroup>
			</field>
			<field>
				<name>reportto_val</name>
				<display>上级经理</display>
				<isRequired>false</isRequired>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>false</isVisible>
				<isEditable>false</isEditable>
				<isSearchable>true</isSearchable>
				<priority>1</priority>
				<isBaseInfo>false</isBaseInfo>
				<fieldGroup>关键信息</fieldGroup>
			</field>
			
			<field>
				<name>role</name>
				<display>角色</display>
				<isRequired>false</isRequired>
				<data-type>text</data-type>
				<picklist>role</picklist>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>1</priority>
				<fieldGroup>关键信息</fieldGroup>
			</field>
			<field>
				<name>role_val</name>
				<display>角色</display>
				<isRequired>false</isRequired>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>false</isVisible>
				<isEditable>false</isEditable>
				<isSearchable>true</isSearchable>
				<priority>1</priority>
				<fieldGroup>关键信息</fieldGroup>
			</field>
			
			<field>
				<name>pl1</name>
				<display>状态</display>
				<isRequired>false</isRequired>
				<data-type>text</data-type>
				<picklist>crmuser_pl1</picklist>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>2</priority>
				<fieldGroup>基本信息</fieldGroup>
			</field>
			<field>
				<name>pl2</name>
				<display>产品线</display>
				<isRequired>false</isRequired>
				<data-type>text</data-type>
				<picklist>crmuser_pl2</picklist>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>2</priority>
				<fieldGroup>基本信息</fieldGroup>
			</field>

			<field>
				<name>pl4</name>
				<display>一级区域</display>
				<isRequired>false</isRequired>
				<data-type>text</data-type>
				<picklist>region_level1_pl</picklist>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>2</priority>
				<fieldGroup>基本信息</fieldGroup>
			</field>
			<field>
				<name>pl5</name>
				<display>二级区域</display>
				<isRequired>false</isRequired>
				<data-type>text</data-type>
				<picklist>region_level2_pl</picklist>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>2</priority>
				<fieldGroup>基本信息</fieldGroup>
			</field>

<!-- 			基本信息 -->

			<field>
				<name>employeeNumber</name>
				<display>雇员ID</display>
				<isRequired>false</isRequired>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>2</priority>
				<fieldGroup>基本信息</fieldGroup>
			</field>
			<field>
				<name>postId</name>
				<display>岗位编码</display>
				<isRequired>false</isRequired>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>2</priority>
				<fieldGroup>基本信息</fieldGroup>
			</field>
			<field>
				<name>city</name>
				<display>城市</display>
				<isRequired>false</isRequired>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>2</priority>
				<fieldGroup>基本信息</fieldGroup>
			</field>
			<field>
				<name>department</name>
				<display>部门</display>
				<isRequired>false</isRequired>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>2</priority>
				<fieldGroup>基本信息</fieldGroup>
			</field>	
			<field>
				<name>parcel</name>
				<display>分部</display>
				<isRequired>false</isRequired>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>2</priority>
				<fieldGroup>基本信息</fieldGroup>
			</field>
				<!-- 附加信息 -->
			<field>
				<name>owner</name>
				<display>创建人</display>
				<data-type>text</data-type>
				<isRequired>false</isRequired>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<field-type>auto</field-type>
				<isVisible>true</isVisible>
				<isEditable>false</isEditable>
				<priority>4</priority>
				<fieldGroup>附加信息</fieldGroup>
			</field>
			<field>
				<name>whenadded</name>
				<display>创建时间</display>
				<isRequired>false</isRequired>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<field-type>auto</field-type>
				<isVisible>true</isVisible>
				<isEditable>false</isEditable>
				<priority>4</priority>
				<fieldGroup>附加信息</fieldGroup>
			</field>
			<field>
				<name>modifier</name>
				<display>修改人</display>
				<isRequired>false</isRequired>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<field-type>auto</field-type>
				<isVisible>true</isVisible>
				<isEditable>false</isEditable>
				<priority>4</priority>
				<fieldGroup>附加信息</fieldGroup>
			</field>
			<field>
				<name>modify_datetime</name>
				<display>修改时间</display>
				<isRequired>false</isRequired>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<field-type>auto</field-type>
				<isVisible>true</isVisible>
				<isEditable>false</isEditable>
				<priority>4</priority>
				<fieldGroup>附加信息</fieldGroup>
			</field>
			<field>
				<name>photo</name>
				<display>图片</display>
				<data-type>String</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>false</isVisible>
				<isEditable>true</isEditable>
				<isBaseInfo>true</isBaseInfo>
				<priority>1</priority>
				<fieldGroup>基本信息</fieldGroup>
			</field>
		</fields>
	</entity>


	<entity>
		<name>city</name>
		<display>城市</display>
		<fields>
			<field>
				<name>id</name>
				<display>ID</display>
				<data-type>number</data-type>
				<isPrimaryKey>true</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>false</isVisible>
				<isEditable>false</isEditable>
				<priority>0</priority>
				<fieldGroup>基本信息</fieldGroup>
			</field>
			<field>
				<name>name</name>
				<display>城市</display>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>1</priority>
				<fieldGroup>基本信息</fieldGroup>
			</field>
			<field>
				<name>provinceId</name>
				<display>ID</display>
				<data-type>number</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>false</isVisible>
				<isEditable>true</isEditable>
				<priority>1</priority>
				<fieldGroup>基本信息</fieldGroup>
			</field>
		</fields>
	</entity>
	<entity>
		<name>activity</name>
		<display>拜访</display>
		<filterField>activity_type</filterField>
		<sql>
		select * from (select * from (select activity.*\,
       activity.activity_type as act_type\,
       activity.status as act_status\,
       activity.contactId as contactName\,
       contact.accountId as accountName\,
       activity_event_type_pl.val as event_type_val\,
       account.name as accountName_val\,
       contact.name as contactname_val 
from activity
left join activity_event_type_pl on activity.activity_type = activity_event_type_pl.id
left join contact on activity.contactId = contact.id
left join account on contact.accountId = account.Id
left join activitycrmuser on activity.id = activitycrmuser.activityId
where activitycrmuser.crmuserid = ?) as aactivity where event_type = 1 order by whenadded DESC) as aActivity
		</sql>
		<sql-manager>
		select * from (select * from (select activity.*\,
       activity.activity_type as act_type\,
       activity.status as act_status\,
       activity.contactId as contactName\,
       contact.accountId as accountName\,
       activity_event_type_pl.val as event_type_val\,
       account.name as accountName_val\,
       contact.name as contactname_val 
from activity
left join activity_event_type_pl on activity.activity_type = activity_event_type_pl.id
left join contact on activity.contactId = contact.id
left join account on contact.accountId = account.Id
left join activitycrmuser on activity.id = activitycrmuser.activityId
left join crmuser on activitycrmuser.crmuserId = crmuser.id
where crmuser.reportto = ? or crmuser.id = ? ) as aactivity  where event_type = 1 order by whenadded DESC) as aActivity
		</sql-manager>
		
		<sql-admin>
		
		select * from (select activity.*\,
       activity.activity_type as act_type\,
       activity.status as act_status\,
       activity.contactId as contactName\,
       contact.accountId as accountName\,
       activity_event_type_pl.val as event_type_val\,
       account.name as accountName_val\,
       contact.name as contactname_val 
from activity
left join activity_event_type_pl on activity.activity_type = activity_event_type_pl.id
left join contact on activity.contactId = contact.id
left join account on contact.accountId = account.Id  where activity.event_type  = 1 order by whenadded DESC) as aActivity
		</sql-admin>
		<sql-calendar>
		select * from (select * from (select activity.*\,
       activity.activity_type as act_type\,
       activity.status as act_status\,
       activity.contactId as contactName\,
       contact.accountId as accountName\,
       activity_event_type_pl.val as event_type_val\,
       account.name as accountName_val\,
       contact.name as contactname_val 
from activity
left join activity_event_type_pl on activity.activity_type = activity_event_type_pl.id
left join contact on activity.contactId = contact.id
left join account on contact.accountId = account.Id
left join activitycrmuser on activity.id = activitycrmuser.activityId
where activitycrmuser.crmuserid = ?) as aactivity  order by whenadded DESC) as aActivity
		</sql-calendar>
		<sql-manager-calendar>
		select * from (select * from (select activity.*\,
       activity.activity_type as act_type\,
       activity.status as act_status\,
       activity.contactId as contactName\,
       contact.accountId as accountName\,
       activity_event_type_pl.val as event_type_val\,
       account.name as accountName_val\,
       contact.name as contactname_val 
from activity
left join activity_event_type_pl on activity.activity_type = activity_event_type_pl.id
left join contact on activity.contactId = contact.id
left join account on contact.accountId = account.Id
left join activitycrmuser on activity.id = activitycrmuser.activityId
left join crmuser on activitycrmuser.crmuserId = crmuser.id
where crmuser.reportto = ? or crmuser.id = ? ) as aactivity  order by whenadded DESC) as aActivity
		</sql-manager-calendar>
		
		<sql-admin-calendar>
		
		select * from (select activity.*\,
       activity.activity_type as act_type\,
       activity.status as act_status\,
       activity.contactId as contactName\,
       contact.accountId as accountName\,
       activity_event_type_pl.val as event_type_val\,
       account.name as accountName_val\,
       contact.name as contactname_val 
from activity
left join activity_event_type_pl on activity.activity_type = activity_event_type_pl.id
left join contact on activity.contactId = contact.id
left join account on contact.accountId = account.Id order by whenadded DESC) as aActivity
		</sql-admin-calendar>
		<sql-ent>select * from (select  activity.*\,activity.activity_type as
			act_type\,activity.status as act_status\, activity.contactId as
			contactName\, contact.accountId as accountName\, contact.name as cn
from activity left join activitycrmuser on activitycrmuser.activityId=activity.id LEFT JOIN contact on contact.id = activity.contactId  where activity.id=?) 
as aActivity
		</sql-ent>
		<fields>
			<field>
				<name>id</name>
				<display>ID</display>
				<data-type>number</data-type>
				<isPrimaryKey>true</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>false</isVisible>
				<isEditable>false</isEditable>
				<priority>0</priority>
				<fieldGroup>关键信息</fieldGroup>
			</field>
			
			 <field>
				<name>event_type</name>
				<display>活动类型</display>
				<isRequired>false</isRequired>
				<data-type>text</data-type>
				<picklist>activity_event_type_pl</picklist>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>2</priority>
				<fieldGroup>关键信息</fieldGroup>
			</field>
			
			<field>
				<name>event_type_val</name>
				<display>活动类型</display>
				<isRequired>false</isRequired>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>false</isVisible>
				<isEditable>false</isEditable>
				<isSearchable>true</isSearchable>
				<priority>1</priority>
				<fieldGroup>关键信息</fieldGroup>
			</field>
			
			<field>
				<name>title</name>
				<display>活动名称</display>
				<isRequired>true</isRequired>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>true</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>1</priority>
				<fieldGroup>关键信息</fieldGroup>
			</field>
			
			<field>
				<name>starttime</name>
				<display>开始时间</display>
				<data-type>text</data-type>
				<formatter>com.rex.crm.common.TimestampFormatter</formatter>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>1</priority>
				<fieldGroup>关键信息</fieldGroup>
			</field>
			<field>
				<name>endtime</name>
				<display>结束时间</display>
				<data-type>text</data-type>
				<formatter>com.rex.crm.common.TimestampFormatter</formatter>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>1</priority>
				<fieldGroup>关键信息</fieldGroup>
			</field>
			
			<field>
				<name>activity_type</name>
				<display>拜访类型</display>
				<data-type>text</data-type>
				<picklist>activity_activity_types_pl</picklist>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>1</priority>
				<fieldGroup>关键信息</fieldGroup>
			</field>
					
			<field>
				<name>contactId</name>
				<display>拜访医生</display>
				<data-type>number</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>false</isVisible>
				<isEditable>false</isEditable>
				<priority>1</priority>
				<isBaseInfo>true</isBaseInfo>
				<fieldGroup>关键信息</fieldGroup>
			</field>

            <field>
				<name>contactname_val</name>
				<display>拜访医生</display>
				<data-type>number</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>false</isVisible>
				<isEditable>false</isEditable>
				<isSearchable>true</isSearchable>
				<priority>1</priority>
				<isBaseInfo>true</isBaseInfo>
				<fieldGroup>关键信息</fieldGroup>
			</field>
			<field>
				<name>contactName</name>
				<display>拜访医生</display>
				<alias>contactId</alias>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>1</priority>
				<relationTable>contact</relationTable>
				<isBaseInfo>true</isBaseInfo>
				<fieldGroup>关键信息</fieldGroup>
			</field>
			
			<field>
				<name>coacheeId</name>
				<display>被辅导人</display>
				<data-type>number</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>false</isEditable>
				<priority>1</priority>
				<isBaseInfo>true</isBaseInfo>
				<relationTable>crmuser</relationTable>
				<fieldGroup>关键信息</fieldGroup>
			</field>
				
			<field>
				<name>accountName</name>
				<display>拜访医院</display>
				<alias>accountId</alias>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>false</isEditable>
				<priority>1</priority>
				<relationTable>account</relationTable>
				<isBaseInfo>true</isBaseInfo>
				<fieldGroup>关键信息</fieldGroup>
			</field>
			<field>
				<name>accountName_val</name>
				<display>拜访医院</display>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>false</isVisible>
				<isEditable>false</isEditable>
				<isSearchable>true</isSearchable>
				<priority>1</priority>
				<isBaseInfo>true</isBaseInfo>
				<fieldGroup>关键信息</fieldGroup>
			</field>
			
			<field>
				<name>participants</name>
				<display>参与人/相关人员</display>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>false</isEditable>
				<priority>1</priority>
				<isBaseInfo>true</isBaseInfo>
				<fieldGroup>关键信息</fieldGroup>
			</field>
			

			<field>
				<name>act_type</name>
				<display>拜访类型</display>
				<data-type>number</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>false</isVisible>
				<isEditable>true</isEditable>
				<priority>1</priority>
				<fieldGroup>基本信息</fieldGroup>
			</field>
			<field>
				<name>visiting_purpose</name>
				<display>拜访目的</display>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<picklist>activity_visiting_purpose_pl</picklist>
				<priority>1</priority>
				<isBaseInfo>true</isBaseInfo>
				<fieldGroup>基本信息</fieldGroup>
			</field>
			<field>
				<name>feature_product</name>
				<display>主推产品</display>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<picklist>activity_feature_product_pl</picklist>
				<priority>1</priority>
				<fieldGroup>基本信息</fieldGroup>
			</field>
			<field>
				<name>status</name>
				<display>状态</display>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<picklist>activity_status_pl</picklist>
				<priority>1</priority>
				<fieldGroup>关键信息</fieldGroup>
			</field>
			<field>
				<name>act_status</name>
				<display>状态</display>
				<data-type>number</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>false</isVisible>
				<isEditable>true</isEditable>
				<priority>3</priority>
				<fieldGroup>附加信息</fieldGroup>
			</field>
			<field>
				<name>owner</name>
				<display>创建人</display>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>false</isEditable>
				<priority>4</priority>
				<fieldGroup>附加信息</fieldGroup>
			</field>
			<field>
				<name>whenadded</name>
				<display>创建时间</display>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>false</isEditable>
				<priority>4</priority>
				<fieldGroup>附加信息</fieldGroup>
			</field>
			<field>
				<name>modifier</name>
				<display>修改人</display>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>false</isEditable>
				<priority>4</priority>
				<fieldGroup>附加信息</fieldGroup>
			</field>
			<field>
				<name>modify_datetime</name>
				<display>修改时间</display>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>false</isEditable>
				<priority>4</priority>
				<fieldGroup>附加信息</fieldGroup>
			</field>
			<field>
				<name>responsible_person</name>
				<display>负责人</display>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>false</isVisible>
				<isEditable>false</isEditable>
				<priority>4</priority>
				<fieldGroup>附加信息</fieldGroup>
			</field>
			<field>
				<name>act_endtime</name>
				<display>活动结束时间</display>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>false</isEditable>
				<priority>4</priority>
				<fieldGroup>附加信息</fieldGroup>
			</field>
			<field>
				<name>total_score</name>
				<display>总分</display>
				<data-type>number</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>false</isEditable>
				<priority>5</priority>
				<fieldGroup>评分信息</fieldGroup>
			</field>
			<field>
				<name>planing</name>
				<display>访前计划</display>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>false</isEditable>
				<priority>5</priority>
				<picklist>score1_pl</picklist>
				<fieldGroup>评分信息</fieldGroup>
			</field>
			<field>
				<name>openling</name>
				<display>开场</display>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>false</isEditable>
				<priority>5</priority>
				<picklist>score1_pl</picklist>
				<fieldGroup>评分信息</fieldGroup>
			</field>
			<field>
				<name>enquery_listening</name>
				<display>探寻聆听</display>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>false</isEditable>
				<priority>5</priority>
				<picklist>score1_pl</picklist>
				<fieldGroup>评分信息</fieldGroup>
			</field>
			<field>
				<name>deliverable</name>
				<display>利益销售</display>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>false</isEditable>
				<priority>5</priority>
				<picklist>score1_pl</picklist>
				<fieldGroup>评分信息</fieldGroup>
			</field>
			<field>
				<name>objection_handing</name>
				<display>异常处理</display>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>false</isEditable>
				<priority>5</priority>
				<picklist>score2_pl</picklist>
				<fieldGroup>评分信息</fieldGroup>
			</field>
			<field>
				<name>summary</name>
				<display>缔结</display>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>false</isEditable>
				<priority>5</priority>
				<picklist>score2_pl</picklist>
				<fieldGroup>评分信息</fieldGroup>
			</field>
		</fields>
	</entity>
<entity>
		<name>coaching</name>
		<display>辅导</display>
		<filterField>feature_product</filterField>
		<sql>
		select * from (select * from (select activity.crmuserId as crmuserName\, activity.*\,
       activity.activity_type as act_type\,
       activity.status as act_status\,
       activity.contactId as contactName\,
       contact.accountId as accountName\,
       activity_event_type_pl.val as event_type_val\,
       account.name as accountName_val\,
       contact.name as contactname_val 
from activity
left join activity_event_type_pl on activity.activity_type = activity_event_type_pl.id
left join contact on activity.contactId = contact.id
left join account on contact.accountId = account.Id
left join activitycrmuser on activity.id = activitycrmuser.activityId
where activitycrmuser.crmuserid = ? and activity.event_type = 2 order by whenadded DESC) as aActivity
		</sql>
		<sql-manager>
		select * from (select * from (select activity.crmuserId as crmuserName\, activity.*\,
       activity.activity_type as act_type\,
       activity.status as act_status\,
       activity.contactId as contactName\,
       contact.accountId as accountName\,
       activity_event_type_pl.val as event_type_val\,
       account.name as accountName_val\,
       contact.name as contactname_val 
from activity
left join activity_event_type_pl on activity.activity_type = activity_event_type_pl.id
left join contact on activity.contactId = contact.id
left join account on contact.accountId = account.Id
left join activitycrmuser on activity.id = activitycrmuser.activityId
left join crmuser on activitycrmuser.crmuserId = crmuser.id
where crmuser.reportto = ? or crmuser.id = ?  and activity.event_type = 2  order by whenadded DESC) as aActivity
		</sql-manager>
		
		<sql-admin>
		
		select * from (select activity.crmuserId as crmuserName\, activity.*\,
       activity.activity_type as act_type\,
       activity.status as act_status\,
       activity.contactId as contactName\,
       contact.accountId as accountName\,
       activity_event_type_pl.val as event_type_val\,
       account.name as accountName_val\,
       contact.name as contactname_val  
from activity
left join activity_event_type_pl on activity.activity_type = activity_event_type_pl.id
left join contact on activity.contactId = contact.id
left join account on contact.accountId = account.Id where  activity.event_type = 2  order by whenadded DESC) as aActivity
		</sql-admin>
		<sql-ent>select * from (select activity.crmuserId as crmuserName\, activity.*\,activity.activity_type as
			act_type\,activity.status as act_status\, activity.contactId as
			contactName\, contact.accountId as accountName\, contact.name as cn
from activity left join activitycrmuser on activitycrmuser.activityId=activity.id LEFT JOIN contact on contact.id = activity.contactId  where activity.id=?) 
as aCoaching
		</sql-ent>
<fields>
			<field>
				<name>id</name>
				<display>ID</display>
				<data-type>number</data-type>
				<isPrimaryKey>true</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>false</isVisible>
				<isEditable>false</isEditable>
				<priority>0</priority>
				<fieldGroup>关键信息</fieldGroup>
			</field>
			
			<field>
				<name>title</name>
				<display>活动名称</display>
				<isRequired>true</isRequired>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>true</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>1</priority>
				<fieldGroup>关键信息</fieldGroup>
			</field>
			<field>
				<name>starttime</name>
				<display>开始时间</display>
				<data-type>datetime-local</data-type>
				<formatter>com.rex.crm.common.TimestampFormatter</formatter>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>1</priority>
				<fieldGroup>关键信息</fieldGroup>
			</field>
			<field>
				<name>endtime</name>
				<display>结束时间</display>
				<data-type>datetime-local</data-type>
				<formatter>com.rex.crm.common.TimestampFormatter</formatter>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>1</priority>
				<fieldGroup>关键信息</fieldGroup>
			</field>
			<field>
				<name>crmuserId</name>
				<display>被辅导人Id</display>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>false</isVisible>
				<isEditable>false</isEditable>
				<priority>1</priority>
				<isBaseInfo>true</isBaseInfo>
				<fieldGroup>关键信息</fieldGroup>
			</field>
			<field>
				<name>crmuserName</name>
				<display>被辅导人</display>
				<alias>crmuserId</alias>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>1</priority>
				<relationTable>crmuser</relationTable>
				<isBaseInfo>true</isBaseInfo>
				<fieldGroup>关键信息</fieldGroup>
			</field>
			
			<field>
				<name>participants</name>
				<display>参与人/相关人员</display>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>false</isVisible>
				<isEditable>false</isEditable>
				<priority>1</priority>
				<isBaseInfo>true</isBaseInfo>
				<fieldGroup>关键信息</fieldGroup>
			</field>
			
			<field>
				<name>feature_product</name>
				<display>主推产品</display>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<picklist>activity_feature_product_pl</picklist>
				<priority>1</priority>
				<fieldGroup>基本信息</fieldGroup>
			</field>
			<field>
				<name>status</name>
				<display>状态</display>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<picklist>activity_status_pl</picklist>
				<priority>1</priority>
				<fieldGroup>关键信息</fieldGroup>
			</field>
			<field>
				<name>act_status</name>
				<display>状态</display>
				<data-type>number</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>false</isVisible>
				<isEditable>true</isEditable>
				<priority>3</priority>
				<fieldGroup>附加信息</fieldGroup>
			</field>
			<field>
				<name>owner</name>
				<display>创建人</display>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>false</isEditable>
				<field-type>auto</field-type>
				<priority>4</priority>
				<fieldGroup>附加信息</fieldGroup>
			</field>
			<field>
				<name>whenadded</name>
				<display>创建时间</display>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>false</isEditable>
				<field-type>auto</field-type>
				<priority>4</priority>
				<fieldGroup>附加信息</fieldGroup>
			</field>
			<field>
				<name>modifier</name>
				<display>修改人</display>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>false</isEditable>
				<field-type>auto</field-type>
				<priority>4</priority>
				<fieldGroup>附加信息</fieldGroup>
			</field>
			<field>
				<name>modify_datetime</name>
				<display>修改时间</display>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>false</isEditable>
				<field-type>auto</field-type>
				<priority>4</priority>
				<fieldGroup>附加信息</fieldGroup>
			</field>
			<field>
				<name>responsible_person</name>
				<display>负责人</display>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>false</isVisible>
				<isEditable>false</isEditable>
				<field-type>auto</field-type>
				<priority>4</priority>
				<fieldGroup>附加信息</fieldGroup>
			</field>
			<field>
				<name>act_endtime</name>
				<display>活动结束时间</display>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>false</isEditable>
				<priority>4</priority>
				<fieldGroup>附加信息</fieldGroup>
			</field>
			<field>
				<name>planing</name>
				<display>访前计划</display>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>5</priority>
				<picklist>score1_pl</picklist>
				<fieldGroup>评分信息</fieldGroup>
			</field>
			<field>
				<name>openling</name>
				<display>开场</display>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>5</priority>
				<picklist>score1_pl</picklist>
				<fieldGroup>评分信息</fieldGroup>
			</field>
			<field>
				<name>enquery_listening</name>
				<display>探寻聆听</display>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>5</priority>
				<picklist>score1_pl</picklist>
				<fieldGroup>评分信息</fieldGroup>
			</field>
			<field>
				<name>deliverable</name>
				<display>利益销售</display>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>5</priority>
				<picklist>score1_pl</picklist>
				<fieldGroup>评分信息</fieldGroup>
			</field>
			<field>
				<name>objection_handing</name>
				<display>异常处理</display>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>5</priority>
				<picklist>score2_pl</picklist>
				<fieldGroup>评分信息</fieldGroup>
			</field>
			<field>
				<name>summary</name>
				<display>缔结</display>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>5</priority>
				<picklist>score2_pl</picklist>
				<fieldGroup>评分信息</fieldGroup>
			</field>
			<field>
				<name>total_score</name>
				<display>总分</display>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>false</isEditable>
				<field-type>calculated</field-type>
				<priority>5</priority>
				<fieldGroup>评分信息</fieldGroup>
			</field>
		</fields>
</entity>
	<entity>
		<name>externalMeeting</name>
		<display>日历</display>
		<sql>select * from (select *\,activity_type as act_type\,status as
			act_status from externalMeeting where crmuserId=?) as aMeeting
		</sql>
		<sql-admin>select * from (select *\,activity_type as act_type\,status
			as act_status from externalMeeting where crmuserId=?) as aMeeting
		</sql-admin>
		<sql-ent>select * from (select *\,activity_type as act_type\,status as
			act_status from externalMeeting where externalMeeting.id=?) as
			aMeeting
		</sql-ent>
		<fields>
			<field>
				<name>id</name>
				<display>ID</display>
				<data-type>number</data-type>
				<isPrimaryKey>true</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>false</isVisible>
				<isEditable>false</isEditable>
				<priority>0</priority>
				<fieldGroup>基本信息</fieldGroup>
			</field>
			<field>
				<name>title</name>
				<display>标题</display>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>true</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>1</priority>
				<fieldGroup>基本信息</fieldGroup>
			</field>
			<field>
				<name>starttime</name>
				<display>开始时间</display>
				<data-type>text</data-type>
				<formatter>com.rex.crm.common.TimestampFormatter</formatter>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>1</priority>
				<fieldGroup>基本信息</fieldGroup>
			</field>
			<field>
				<name>endtime</name>
				<display>结束时间</display>
				<data-type>text</data-type>
				<formatter>com.rex.crm.common.TimestampFormatter</formatter>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>1</priority>
				<fieldGroup>基本信息</fieldGroup>
			</field>
			<field>
				<name>contactIds</name>
				<display>联系人</display>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>1</priority>
				<fieldGroup>基本信息</fieldGroup>
			</field>
			<field>
				<name>activity_type</name>
				<display>类型</display>
				<data-type>text</data-type>
				<picklist>activity_types</picklist>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>1</priority>
				<fieldGroup>基本信息</fieldGroup>
			</field>
			<field>
				<name>act_type</name>
				<display>拜访类型</display>
				<data-type>Integer</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>false</isVisible>
				<isEditable>true</isEditable>
				<priority>1</priority>
				<fieldGroup>基本信息</fieldGroup>
			</field>
			<field>
				<name>status</name>
				<display>状态</display>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<picklist>activity_status</picklist>
				<priority>1</priority>
				<fieldGroup>基本信息</fieldGroup>
			</field>
			<field>
				<name>act_status</name>
				<display>状态</display>
				<data-type>Integer</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>false</isVisible>
				<isEditable>true</isEditable>
				<priority>1</priority>
				<fieldGroup>基本信息</fieldGroup>
			</field>
			<field>
				<name>coachId</name>
				<display>教练</display>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>true</isEditable>
				<priority>1</priority>
				<fieldGroup>基本信息</fieldGroup>
			</field>
		</fields>
	</entity>




    
    <!-- Below are for the reporting -->
    	<entity>
		<name>contactVisitingFrequency</name>
		<display>目标医生拜访频率</display>
		<sql></sql>
		<sql-admin></sql-admin>
		<sql-ent></sql-ent>
		<filterField></filterField>
		<fields>
			<field>
				<name>num_of_activity</name>
				<display>活动数</display>
				<data-type>number</data-type>
				<isPrimaryKey>true</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>false</isEditable>
				<priority>0</priority>
			</field>
			<field>
				<name>num_of_contact</name>
				<display>拥有医生数</display>
				<data-type>number</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>true</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>false</isEditable>
				<priority>1</priority>
			</field>
			<field>
				<name>num_of_target_of_visiting_frequency</name>
				<display>拜访频率目标</display>
				<data-type>number</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>true</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>false</isEditable>
				<priority>1</priority>
			</field>
			<field>
				<name>num_of_visiting_frequency</name>
				<display>拜访频率</display>
				<data-type>number</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>true</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>false</isEditable>
				<priority>1</priority>
			</field>
			<field>
				<name>rate_of_achieving</name>
				<display>达标率</display>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>true</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>false</isEditable>
				<priority>1</priority>
			</field>
		</fields>
	</entity>

    	<entity>
		<name>contactVisitingCoverRate</name>
		<display>目标医生拜访覆盖</display>
		<sql></sql>
		<sql-admin></sql-admin>
		<sql-ent></sql-ent>
		<filterField></filterField>
		<fields>
			<field>
				<name>num_of_visited_contact</name>
				<display>被拜访的医生数</display>
				<data-type>number</data-type>
				<isPrimaryKey>true</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>false</isEditable>
				<priority>0</priority>
			</field>
			<field>
				<name>num_of_contact</name>
				<display>拥有医生数</display>
				<data-type>number</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>true</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>false</isEditable>
				<priority>1</priority>
			</field>
			<field>
				<name>metric_of_visiting_cover</name>
				<display>拜访覆盖率标准</display>
				<data-type>number</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>true</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>false</isEditable>
				<priority>1</priority>
			</field>
			<field>
				<name>rate_of_visiting_cover</name>
				<display>拜访覆盖率</display>
				<data-type>number</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>true</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>false</isEditable>
				<priority>1</priority>
			</field>
			<field>
				<name>rate_of_achieving</name>
				<display>达标率</display>
				<data-type>text</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>true</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>false</isEditable>
				<priority>1</priority>
			</field>
		</fields>
	</entity>
	
	   <entity>
		<name>workingday</name>
		<display>区域内工作天数</display>
		<sql></sql>
		<sql-admin></sql-admin>
		<sql-ent></sql-ent>
		<filterField></filterField>
		<fields>
			<field>
				<name>metric_of_working_day</name>
				<display>区域内工作天数标准</display>
				<data-type>number</data-type>
				<isPrimaryKey>true</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>false</isEditable>
				<priority>0</priority>
			</field>
			<field>
				<name>num_of_working_day</name>
				<display>实际工作天数</display>
				<data-type>number</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>true</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>false</isEditable>
				<priority>1</priority>
			</field>
			<field>
				<name>rate_of_achieving</name>
				<display>达标率</display>
				<data-type>number</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>true</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>false</isEditable>
				<priority>1</priority>
			</field>
		</fields>
	</entity>
	
	
     <entity>
		<name>visitingPerDayReport</name>
		<display>日均拜访量</display>
		<sql></sql>
		<sql-admin></sql-admin>
		<sql-ent></sql-ent>
		<filterField></filterField>
		<fields>
			<field>
				<name>metric_of_visiting_per_day</name>
				<display>日均拜访量标准</display>
				<data-type>number</data-type>
				<isPrimaryKey>true</isPrimaryKey>
				<isDetailLink>false</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>false</isEditable>
				<priority>0</priority>
			</field>
			<field>
				<name>num_of_visiting_per_day</name>
				<display>实际日均拜访量</display>
				<data-type>number</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>true</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>false</isEditable>
				<priority>1</priority>
			</field>
			<field>
				<name>rate_of_achieving</name>
				<display>达标率</display>
				<data-type>number</data-type>
				<isPrimaryKey>false</isPrimaryKey>
				<isDetailLink>true</isDetailLink>
				<isVisible>true</isVisible>
				<isEditable>false</isEditable>
				<priority>1</priority>
			</field>
		</fields>
	</entity>

</entities>
